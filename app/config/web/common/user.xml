<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE aspectran PUBLIC "-//ASPECTRAN//DTD Aspectran Configuration 6.0//EN"
        "http://aspectran.github.io/dtd/aspectran-6.dtd">
<aspectran>

    <aspect id="checkUserSessionAspect" order="1">
        <description>
            Retrieves UserSession from the session
            and stores it as a request attribute.
            The attribute name is "user".
        </description>
        <joinpoint target="translet">
            pointcut: {
                +: /order/**
            }
        </joinpoint>
        <advice bean="userSessionManager">
            <before>
                <action method="checkUserSession"/>
            </before>
        </advice>
        <exception>
            <thrown>
                <redirect path="/account/signonForm"/>
            </thrown>
        </exception>
    </aspect>

</aspectran>